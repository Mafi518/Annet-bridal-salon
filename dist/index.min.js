let burger = document.querySelector('.menu-icon').onclick = function() {
    let menu = document.querySelector('.menu')
    this.classList.toggle('menu-icon__active')
    menu.classList.toggle('menu__active')
}

$(document).ready(function(){
    $('.new-positions__list').slick({
        dots: true,
        slidesToShow: 2,
        arrows: false
    });
  });

function setValid(field) {
    field.style.border = '1px solid #000'
    field.classList.remove('invalid')
    field.classList.add('valid')
}
function setInvalid(field) {
    field.classList.remove('valid')
    field.classList.add('invalid')
    field.style.border = '1px solid tomato'
}

function validateName() {
    const name = document.querySelector('#name')

    if(name.value.trim() === '') {
        setInvalid(name)
    } else if (name.value.trim().length < 2) {
        setInvalid(name)
    } else {
        setValid(name)
    }
}

function lastNameValidate() {
    const lastname = document.querySelector('#lastname')

    if(lastname.value.trim() === '') {
        setInvalid(lastname)
    } else if (lastname.value.trim().length < 2) {
        setInvalid(lastname)
    } else {
        setValid(lastname)
    }
}

function validatePhone() {
    const phone = document.querySelector('#phone')

    if(this.value.trim() === '') {
        setInvalid(phone)
    } else if (this.value.trim().length !== 11) {
        setInvalid(phone)
    } else if (!this.value.trim().match(/^[0-9]+$/)){
        setInvalid(phone)
    } else {
        setValid(phone)
    }
}

function validateEmail() {
    const email = document.querySelector('#e-mail')

    if(email.value.trim() === '') {
        setInvalid(email)
    } else if(!email.value.trim().match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)) {
        setInvalid(email)
    } else {
        setValid(email)
    }
}

if (document.querySelector('#name') === true) {
const name = document.querySelector('#name').addEventListener('focusout', validateName)

const phone = document.querySelector('#phone').addEventListener('focusout', validatePhone)

const email = document.querySelector('#e-mail').addEventListener('focusout', validateEmail)

const lastName = document.querySelector('#lastname').addEventListener('focusout', lastNameValidate)

const submit = document.querySelector('#submit').addEventListener('click', e => {
    e.preventDefault()
    const name = document.querySelector('#name')
    const phone = document.querySelector('#phone')
    const email = document.querySelector('#e-mail')
    const lastName = document.querySelector('#lastname')


    if(name.classList.contains('valid') && phone.classList.contains('valid') && email.classList.contains('valid') && lastName.classList.contains('valid')) {
        const success = document.querySelector('.success__popup')
        success.style.top = '50%'
        const successBg = document.querySelector('.success__bg')
        successBg.style.top = '0%'
        successBg.addEventListener('click', () => {
            successBg.style.top = '-100%'
            success.style.top = '-20%'
        })
    }
})
}

let range = document.getElementById('range').addEventListener('mousemove', function() {
    let currentPrice = this.value
    document.querySelector('.current-price-max').innerHTML = (currentPrice)
})

